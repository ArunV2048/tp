@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor LOGIC_COLOR_T4

start

:User types "sortbypaid" command;

:Parse command input;

if (Valid command format?) then (yes)
    :Create SortByPaidCommand;

    :Execute command;

    :Call model.sortPersonListByPaid();

    :Access AddressBook person list;

    :Sort list by paid status;

    note right
      Sorting logic:
      - Compare Person.getPaymentStatus().value
      - Unpaid (false) comes first
      - Paid (true) comes second
    end note

    :Update filtered person list;

    :Display success message;

    :Show sorted list to user;

    stop

else (no)
    :Display error message;

    :Show usage instructions;

    stop
endif

@enduml
